.set noat # allow manual use of $at
.set noreorder # don't insert nops after branches

.include "include/macro.inc"

glabel corrupted_init
/* 048480 8006D080 27BDFED0 */  addiu $sp, $sp, -0x130
/* 048484 8006D084 AFB20118 */  sw    $s2, 0x118($sp)
/* 048488 8006D088 00809021 */  addu  $s2, $a0, $zero
/* 04848C 8006D08C AFB40120 */  sw    $s4, 0x120($sp)
/* 048490 8006D090 00A0A021 */  addu  $s4, $a1, $zero
/* 048494 8006D094 240500FF */  addiu $a1, $zero, 0xff
/* 048498 8006D098 268200FF */  addiu $v0, $s4, 0xff
/* 04849C 8006D09C AFBF012C */  sw    $ra, 0x12c($sp)
/* 0484A0 8006D0A0 AFB60128 */  sw    $s6, 0x128($sp)
/* 0484A4 8006D0A4 AFB50124 */  sw    $s5, 0x124($sp)
/* 0484A8 8006D0A8 AFB3011C */  sw    $s3, 0x11c($sp)
/* 0484AC 8006D0AC AFB10114 */  sw    $s1, 0x114($sp)
/* 0484B0 8006D0B0 AFB00110 */  sw    $s0, 0x110($sp)
.L8006D0B4:
/* 0484B4 8006D0B4 A0400101 */  sb    $zero, 0x101($v0)
/* 0484B8 8006D0B8 24A5FFFF */  addiu $a1, $a1, -1
/* 0484BC 8006D0BC 04A1FFFD */  bgez  $a1, .L8006D0B4
/* 0484C0 8006D0C0 2442FFFF */   addiu $v0, $v0, -1
/* 0484C4 8006D0C4 240200FF */  addiu $v0, $zero, 0xff
/* 0484C8 8006D0C8 A2820100 */  sb    $v0, 0x100($s4)
/* 0484CC 8006D0CC 92420064 */  lbu   $v0, 0x64($s2)
/* 0484D0 8006D0D0 10400036 */  beqz  $v0, .L8006D1AC
/* 0484D4 8006D0D4 00009821 */   addu  $s3, $zero, $zero
/* 0484D8 8006D0D8 27B50010 */  addiu $s5, $sp, 0x10
/* 0484DC 8006D0DC 24160001 */  addiu $s6, $zero, 1
/* 0484E0 8006D0E0 327000FF */  andi  $s0, $s3, 0xff
.L8006D0E4:
/* 0484E4 8006D0E4 16000002 */  bnez  $s0, .L8006D0F0
/* 0484E8 8006D0E8 24110001 */   addiu $s1, $zero, 1
/* 0484EC 8006D0EC 8E510060 */  lw    $s1, 0x60($s2)
.L8006D0F0:
/* 0484F0 8006D0F0 02402021 */  addu  $a0, $s2, $zero
/* 0484F4 8006D0F4 27A50010 */  addiu $a1, $sp, 0x10
/* 0484F8 8006D0F8 00003021 */  addu  $a2, $zero, $zero
/* 0484FC 8006D0FC 0C01A7A3 */  jal   osPfsRWInode
/* 048500 8006D100 02003821 */   addu  $a3, $s0, $zero
/* 048504 8006D104 00402021 */  addu  $a0, $v0, $zero
/* 048508 8006D108 0004182B */  sltu  $v1, $zero, $a0
/* 04850C 8006D10C 38820003 */  xori  $v0, $a0, 3
/* 048510 8006D110 0002102B */  sltu  $v0, $zero, $v0
/* 048514 8006D114 00621824 */  and   $v1, $v1, $v0
/* 048518 8006D118 14600025 */  bnez  $v1, .L8006D1B0
/* 04851C 8006D11C 00801021 */   addu  $v0, $a0, $zero
/* 048520 8006D120 02202821 */  addu  $a1, $s1, $zero
/* 048524 8006D124 28A20080 */  slti  $v0, $a1, 0x80
/* 048528 8006D128 1040001A */  beqz  $v0, .L8006D194
/* 04852C 8006D12C 32020007 */   andi  $v0, $s0, 7
/* 048530 8006D130 02003821 */  addu  $a3, $s0, $zero
/* 048534 8006D134 00564004 */  sllv  $t0, $s6, $v0
/* 048538 8006D138 00051040 */  sll   $v0, $a1, 1
/* 04853C 8006D13C 00553021 */  addu  $a2, $v0, $s5
.L8006D140:
/* 048540 8006D140 94C40000 */  lhu   $a0, ($a2)
/* 048544 8006D144 8E420060 */  lw    $v0, 0x60($s2)
/* 048548 8006D148 3083FFFF */  andi  $v1, $a0, 0xffff
/* 04854C 8006D14C 0062102A */  slt   $v0, $v1, $v0
/* 048550 8006D150 1440000D */  bnez  $v0, .L8006D188
/* 048554 8006D154 24A50001 */   addiu $a1, $a1, 1
/* 048558 8006D158 00031A02 */  srl   $v1, $v1, 8
/* 04855C 8006D15C 1067000A */  beq   $v1, $a3, .L8006D188
/* 048560 8006D160 00000000 */   nop   
/* 048564 8006D164 3082007F */  andi  $v0, $a0, 0x7f
/* 048568 8006D168 00021082 */  srl   $v0, $v0, 2
/* 04856C 8006D16C 30630007 */  andi  $v1, $v1, 7
/* 048570 8006D170 00031940 */  sll   $v1, $v1, 5
/* 048574 8006D174 00431021 */  addu  $v0, $v0, $v1
/* 048578 8006D178 02821021 */  addu  $v0, $s4, $v0
/* 04857C 8006D17C 90430101 */  lbu   $v1, 0x101($v0)
/* 048580 8006D180 00681825 */  or    $v1, $v1, $t0
/* 048584 8006D184 A0430101 */  sb    $v1, 0x101($v0)
.L8006D188:
/* 048588 8006D188 28A20080 */  slti  $v0, $a1, 0x80
/* 04858C 8006D18C 1440FFEC */  bnez  $v0, .L8006D140
/* 048590 8006D190 24C60002 */   addiu $a2, $a2, 2
.L8006D194:
/* 048594 8006D194 92430064 */  lbu   $v1, 0x64($s2)
/* 048598 8006D198 26730001 */  addiu $s3, $s3, 1
/* 04859C 8006D19C 326200FF */  andi  $v0, $s3, 0xff
/* 0485A0 8006D1A0 0043102B */  sltu  $v0, $v0, $v1
/* 0485A4 8006D1A4 1440FFCF */  bnez  $v0, .L8006D0E4
/* 0485A8 8006D1A8 327000FF */   andi  $s0, $s3, 0xff
.L8006D1AC:
/* 0485AC 8006D1AC 00001021 */  addu  $v0, $zero, $zero
.L8006D1B0:
/* 0485B0 8006D1B0 8FBF012C */  lw    $ra, 0x12c($sp)
/* 0485B4 8006D1B4 8FB60128 */  lw    $s6, 0x128($sp)
/* 0485B8 8006D1B8 8FB50124 */  lw    $s5, 0x124($sp)
/* 0485BC 8006D1BC 8FB40120 */  lw    $s4, 0x120($sp)
/* 0485C0 8006D1C0 8FB3011C */  lw    $s3, 0x11c($sp)
/* 0485C4 8006D1C4 8FB20118 */  lw    $s2, 0x118($sp)
/* 0485C8 8006D1C8 8FB10114 */  lw    $s1, 0x114($sp)
/* 0485CC 8006D1CC 8FB00110 */  lw    $s0, 0x110($sp)
/* 0485D0 8006D1D0 03E00008 */  jr    $ra
/* 0485D4 8006D1D4 27BD0130 */   addiu $sp, $sp, 0x130

