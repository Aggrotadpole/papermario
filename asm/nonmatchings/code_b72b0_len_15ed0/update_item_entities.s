.set noat # allow manual use of $at
.set noreorder # don't insert nops after branches

.include "include/macro.inc"

glabel update_item_entities
/* 0C85EC 80131EEC 3C02800A */  lui   $v0, 0x800a
/* 0C85F0 80131EF0 8C42A650 */  lw    $v0, -0x59b0($v0)
/* 0C85F4 80131EF4 27BDFFC0 */  addiu $sp, $sp, -0x40
/* 0C85F8 80131EF8 AFBF0038 */  sw    $ra, 0x38($sp)
/* 0C85FC 80131EFC AFB30034 */  sw    $s3, 0x34($sp)
/* 0C8600 80131F00 AFB20030 */  sw    $s2, 0x30($sp)
/* 0C8604 80131F04 AFB1002C */  sw    $s1, 0x2c($sp)
/* 0C8608 80131F08 30420C00 */  andi  $v0, $v0, 0xc00
/* 0C860C 80131F0C 1440009E */  bnez  $v0, .L80132188
/* 0C8610 80131F10 AFB00028 */   sw    $s0, 0x28($sp)
/* 0C8614 80131F14 0000982D */  daddu $s3, $zero, $zero
/* 0C8618 80131F18 0260902D */  daddu $s2, $s3, $zero
.L80131F1C:
/* 0C861C 80131F1C 3C028015 */  lui   $v0, 0x8015
/* 0C8620 80131F20 8C4265A0 */  lw    $v0, 0x65a0($v0)
/* 0C8624 80131F24 02421021 */  addu  $v0, $s2, $v0
/* 0C8628 80131F28 8C510000 */  lw    $s1, ($v0)
/* 0C862C 80131F2C 52200093 */  beql  $s1, $zero, .L8013217C
/* 0C8630 80131F30 26730001 */   addiu $s3, $s3, 1
/* 0C8634 80131F34 8E220000 */  lw    $v0, ($s1)
/* 0C8638 80131F38 1040008F */  beqz  $v0, .L80132178
/* 0C863C 80131F3C 24020157 */   addiu $v0, $zero, 0x157
/* 0C8640 80131F40 86230018 */  lh    $v1, 0x18($s1)
/* 0C8644 80131F44 14620019 */  bne   $v1, $v0, .L80131FAC
/* 0C8648 80131F48 00000000 */   nop   
/* 0C864C 80131F4C 0C00A67F */  jal   rand_int
/* 0C8650 80131F50 24040064 */   addiu $a0, $zero, 0x64
/* 0C8654 80131F54 2842005B */  slti  $v0, $v0, 0x5b
/* 0C8658 80131F58 14400012 */  bnez  $v0, .L80131FA4
/* 0C865C 80131F5C 00000000 */   nop   
/* 0C8660 80131F60 3C058010 */  lui   $a1, 0x8010
/* 0C8664 80131F64 24A54AC0 */  addiu $a1, $a1, 0x4ac0
/* 0C8668 80131F68 0C04C27C */  jal   func_801309F0
/* 0C866C 80131F6C 0220202D */   daddu $a0, $s1, $zero
/* 0C8670 80131F70 0C00A67F */  jal   rand_int
/* 0C8674 80131F74 24040010 */   addiu $a0, $zero, 0x10
/* 0C8678 80131F78 2442FFF8 */  addiu $v0, $v0, -8
/* 0C867C 80131F7C 3C018015 */  lui   $at, 0x8015
/* 0C8680 80131F80 A4225D8C */  sh    $v0, 0x5d8c($at)
/* 0C8684 80131F84 0C00A67F */  jal   rand_int
/* 0C8688 80131F88 24040010 */   addiu $a0, $zero, 0x10
/* 0C868C 80131F8C 2442FFF8 */  addiu $v0, $v0, -8
/* 0C8690 80131F90 3C018015 */  lui   $at, 0x8015
/* 0C8694 80131F94 A4225D8E */  sh    $v0, 0x5d8e($at)
/* 0C8698 80131F98 24020005 */  addiu $v0, $zero, 5
/* 0C869C 80131F9C 3C018015 */  lui   $at, 0x8015
/* 0C86A0 80131FA0 A4225D90 */  sh    $v0, 0x5d90($at)
.L80131FA4:
/* 0C86A4 80131FA4 0C04C2B3 */  jal   func_80130ACC
/* 0C86A8 80131FA8 0220202D */   daddu $a0, $s1, $zero
.L80131FAC:
/* 0C86AC 80131FAC 0C04C775 */  jal   func_80131DD4
/* 0C86B0 80131FB0 0220202D */   daddu $a0, $s1, $zero
/* 0C86B4 80131FB4 8223001B */  lb    $v1, 0x1b($s1)
/* 0C86B8 80131FB8 2C62001D */  sltiu $v0, $v1, 0x1d
/* 0C86BC 80131FBC 10400014 */  beqz  $v0, .L80132010
/* 0C86C0 80131FC0 00031080 */   sll   $v0, $v1, 2
/* 0C86C4 80131FC4 3C018015 */  lui   $at, 0x8015
/* 0C86C8 80131FC8 00220821 */  addu  $at, $at, $v0
/* 0C86CC 80131FCC 8C220BD8 */  lw    $v0, 0xbd8($at)
/* 0C86D0 80131FD0 00400008 */  jr    $v0
/* 0C86D4 80131FD4 00000000 */   nop   
/* 0C86D8 80131FD8 0C04D596 */  jal   update_item_entity_static
/* 0C86DC 80131FDC 0220202D */   daddu $a0, $s1, $zero
/* 0C86E0 80131FE0 0804C804 */  j     .L80132010
/* 0C86E4 80131FE4 00000000 */   nop   

/* 0C86E8 80131FE8 0C04D5B3 */  jal   func_801356CC
/* 0C86EC 80131FEC 0220202D */   daddu $a0, $s1, $zero
/* 0C86F0 80131FF0 0804C804 */  j     .L80132010
/* 0C86F4 80131FF4 00000000 */   nop   

/* 0C86F8 80131FF8 0C04D094 */  jal   update_item_entity_collectable
/* 0C86FC 80131FFC 0220202D */   daddu $a0, $s1, $zero
/* 0C8700 80132000 0804C804 */  j     .L80132010
/* 0C8704 80132004 00000000 */   nop   

/* 0C8708 80132008 0C04D5B7 */  jal   update_item_entity_temp
/* 0C870C 8013200C 0220202D */   daddu $a0, $s1, $zero
.L80132010:
/* 0C8710 80132010 3C028015 */  lui   $v0, 0x8015
/* 0C8714 80132014 8C4265A0 */  lw    $v0, 0x65a0($v0)
/* 0C8718 80132018 02421021 */  addu  $v0, $s2, $v0
/* 0C871C 8013201C 8C510000 */  lw    $s1, ($v0)
/* 0C8720 80132020 52200056 */  beql  $s1, $zero, .L8013217C
/* 0C8724 80132024 26730001 */   addiu $s3, $s3, 1
/* 0C8728 80132028 8223001B */  lb    $v1, 0x1b($s1)
/* 0C872C 8013202C 2C62001D */  sltiu $v0, $v1, 0x1d
/* 0C8730 80132030 10400043 */  beqz  $v0, .L80132140
/* 0C8734 80132034 00031080 */   sll   $v0, $v1, 2
/* 0C8738 80132038 3C018015 */  lui   $at, 0x8015
/* 0C873C 8013203C 00220821 */  addu  $at, $at, $v0
/* 0C8740 80132040 8C220C50 */  lw    $v0, 0xc50($at)
/* 0C8744 80132044 00400008 */  jr    $v0
/* 0C8748 80132048 00000000 */   nop   
/* 0C874C 8013204C C6200008 */  lwc1  $f0, 8($s1)
/* 0C8750 80132050 C622000C */  lwc1  $f2, 0xc($s1)
/* 0C8754 80132054 86220034 */  lh    $v0, 0x34($s1)
/* 0C8758 80132058 4600020D */  trunc.w.s $f8, $f0
/* 0C875C 8013205C 44034000 */  mfc1  $v1, $f8
/* 0C8760 80132060 C6200010 */  lwc1  $f0, 0x10($s1)
/* 0C8764 80132064 4600120D */  trunc.w.s $f8, $f2
/* 0C8768 80132068 44054000 */  mfc1  $a1, $f8
/* 0C876C 8013206C 4600020D */  trunc.w.s $f8, $f0
/* 0C8770 80132070 44044000 */  mfc1  $a0, $f8
/* 0C8774 80132074 14620007 */  bne   $v1, $v0, .L80132094
/* 0C8778 80132078 00000000 */   nop   
/* 0C877C 8013207C 86220036 */  lh    $v0, 0x36($s1)
/* 0C8780 80132080 14A20004 */  bne   $a1, $v0, .L80132094
/* 0C8784 80132084 00000000 */   nop   
/* 0C8788 80132088 86220038 */  lh    $v0, 0x38($s1)
/* 0C878C 8013208C 1082002C */  beq   $a0, $v0, .L80132140
/* 0C8790 80132090 00000000 */   nop   
.L80132094:
/* 0C8794 80132094 0C044181 */  jal   get_shadow_by_index
/* 0C8798 80132098 86240020 */   lh    $a0, 0x20($s1)
/* 0C879C 8013209C 3C040002 */  lui   $a0, 2
/* 0C87A0 801320A0 27A50018 */  addiu $a1, $sp, 0x18
/* 0C87A4 801320A4 27A30024 */  addiu $v1, $sp, 0x24
/* 0C87A8 801320A8 0040802D */  daddu $s0, $v0, $zero
/* 0C87AC 801320AC 27A6001C */  addiu $a2, $sp, 0x1c
/* 0C87B0 801320B0 C6200008 */  lwc1  $f0, 8($s1)
/* 0C87B4 801320B4 3C014140 */  lui   $at, 0x4140
/* 0C87B8 801320B8 44811000 */  mtc1  $at, $f2
/* 0C87BC 801320BC 3C01447A */  lui   $at, 0x447a
/* 0C87C0 801320C0 44813000 */  mtc1  $at, $f6
/* 0C87C4 801320C4 27A70020 */  addiu $a3, $sp, 0x20
/* 0C87C8 801320C8 E7A00018 */  swc1  $f0, 0x18($sp)
/* 0C87CC 801320CC C620000C */  lwc1  $f0, 0xc($s1)
/* 0C87D0 801320D0 C6240010 */  lwc1  $f4, 0x10($s1)
/* 0C87D4 801320D4 46020000 */  add.s $f0, $f0, $f2
/* 0C87D8 801320D8 E7A60024 */  swc1  $f6, 0x24($sp)
/* 0C87DC 801320DC E7A40020 */  swc1  $f4, 0x20($sp)
/* 0C87E0 801320E0 E7A0001C */  swc1  $f0, 0x1c($sp)
/* 0C87E4 801320E4 0C0372DF */  jal   func_800DCB7C
/* 0C87E8 801320E8 AFA30010 */   sw    $v1, 0x10($sp)
/* 0C87EC 801320EC C7A00018 */  lwc1  $f0, 0x18($sp)
/* 0C87F0 801320F0 C7A2001C */  lwc1  $f2, 0x1c($sp)
/* 0C87F4 801320F4 C7A40020 */  lwc1  $f4, 0x20($sp)
/* 0C87F8 801320F8 3C028007 */  lui   $v0, 0x8007
/* 0C87FC 801320FC 8C42419C */  lw    $v0, 0x419c($v0)
/* 0C8800 80132100 E6000010 */  swc1  $f0, 0x10($s0)
/* 0C8804 80132104 E6020014 */  swc1  $f2, 0x14($s0)
/* 0C8808 80132108 E6040018 */  swc1  $f4, 0x18($s0)
/* 0C880C 8013210C C7A20024 */  lwc1  $f2, 0x24($sp)
/* 0C8810 80132110 3C013F00 */  lui   $at, 0x3f00
/* 0C8814 80132114 44810000 */  mtc1  $at, $f0
/* 0C8818 80132118 C444011C */  lwc1  $f4, 0x11c($v0)
/* 0C881C 8013211C 46001082 */  mul.s $f2, $f2, $f0
/* 0C8820 80132120 00000000 */  nop   
/* 0C8824 80132124 AE00002C */  sw    $zero, 0x2c($s0)
/* 0C8828 80132128 E6040028 */  swc1  $f4, 0x28($s0)
/* 0C882C 8013212C C4400124 */  lwc1  $f0, 0x124($v0)
/* 0C8830 80132130 44051000 */  mfc1  $a1, $f2
/* 0C8834 80132134 0200202D */  daddu $a0, $s0, $zero
/* 0C8838 80132138 0C044A17 */  jal   set_standard_shadow_scale
/* 0C883C 8013213C E4800030 */   swc1  $f0, 0x30($a0)
.L80132140:
/* 0C8840 80132140 C6200008 */  lwc1  $f0, 8($s1)
/* 0C8844 80132144 C6220010 */  lwc1  $f2, 0x10($s1)
/* 0C8848 80132148 4600020D */  trunc.w.s $f8, $f0
/* 0C884C 8013214C 44024000 */  mfc1  $v0, $f8
/* 0C8850 80132150 C620000C */  lwc1  $f0, 0xc($s1)
/* 0C8854 80132154 A6220034 */  sh    $v0, 0x34($s1)
/* 0C8858 80132158 4600020D */  trunc.w.s $f8, $f0
/* 0C885C 8013215C 44024000 */  mfc1  $v0, $f8
/* 0C8860 80132160 00000000 */  nop   
/* 0C8864 80132164 A6220036 */  sh    $v0, 0x36($s1)
/* 0C8868 80132168 4600120D */  trunc.w.s $f8, $f2
/* 0C886C 8013216C 44024000 */  mfc1  $v0, $f8
/* 0C8870 80132170 00000000 */  nop   
/* 0C8874 80132174 A6220038 */  sh    $v0, 0x38($s1)
.L80132178:
/* 0C8878 80132178 26730001 */  addiu $s3, $s3, 1
.L8013217C:
/* 0C887C 8013217C 2A620100 */  slti  $v0, $s3, 0x100
/* 0C8880 80132180 1440FF66 */  bnez  $v0, .L80131F1C
/* 0C8884 80132184 26520004 */   addiu $s2, $s2, 4
.L80132188:
/* 0C8888 80132188 8FBF0038 */  lw    $ra, 0x38($sp)
/* 0C888C 8013218C 8FB30034 */  lw    $s3, 0x34($sp)
/* 0C8890 80132190 8FB20030 */  lw    $s2, 0x30($sp)
/* 0C8894 80132194 8FB1002C */  lw    $s1, 0x2c($sp)
/* 0C8898 80132198 8FB00028 */  lw    $s0, 0x28($sp)
/* 0C889C 8013219C 03E00008 */  jr    $ra
/* 0C88A0 801321A0 27BD0040 */   addiu $sp, $sp, 0x40

